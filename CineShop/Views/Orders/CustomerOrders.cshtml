@model List<CineShop.Models.Order>

@{
    ViewData["Title"] = "Customer Orders";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container py-5">
    <h1 class="text-warning text-center fw-bold mb-4">
        <i class="fa-solid fa-box-open me-2"></i> Orders for <span class="text-light">@ViewBag.Email</span>
    </h1>

    @if (!Model.Any())
    {
        <div class="alert alert-info text-center fw-bold">
            No orders found for this customer.
        </div>
    }
    else
    {
        <p class="text-light text-center mb-4">
            Total Orders: <strong>@ViewBag.TotalCount</strong>
        </p>

        @foreach (var order in Model.OrderByDescending(o => o.OrderDate))
        {
            @Html.Partial("_OrderPartial", order)
        }
    }

    <div class="text-center mt-4">
        <a asp-controller="Movies" asp-action="Index" class="btn btn-warning fw-bold px-4">
            <i class="fa-solid fa-film me-2"></i> Browse More Movies
        </a>
        <a asp-controller="Customer" asp-action="Index" class="btn btn-warning fw-bold px-4">
            <i class="fa fa-user me-2"></i> Back to My Dashboard
        </a>
    </div>
</div>
