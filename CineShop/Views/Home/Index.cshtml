@model CineShop.ViewModels.HomeStatisticsViewModel

@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="text-center my-5">
    <h1 class="display-4 text-warning fw-bold">
        Welcome to CineShop
    </h1>
    <p class="lead text-light">
        Your cozy corner for movie magic—explore timeless classics, fresh releases, and hidden gems.
    </p>

    <div class="mt-4">
        <a class="btn btn-warning btn-lg fw-semibold" asp-controller="Movies" asp-action="Index">
            <i class="fa fa-film me-2"></i> Browse Movies
        </a>
    </div>
</div>


<div class="container py-4">
    <h2 class="text-center text-warning mb-5">CineShop Insights</h2>

    <div class="row g-4 mb-5">
      
        <div class="col-md-3">
            <h5 class="text-warning"><i class="fa fa-fire me-2"></i> Most Popular</h5>
            @if (Model.MostPopularMovies?.Any() == true)
            {
                <ul class="list-group list-group-flush bg-dark border rounded">
                    @foreach (var movie in Model.MostPopularMovies)
                    {
                        <li class="list-group-item bg-dark text-light border-bottom">
                            <strong>@movie.Title</strong> — @movie.Price.ToString("C")
                        </li>
                    }
                </ul>
            }
            else
            {
                <div class="text-muted">No popularity data available.</div>
            }
        </div>

      
        <div class="col-md-3">
            <h5 class="text-info"><i class="fa fa-calendar-plus me-2"></i> Newest Releases</h5>
            @if (Model.NewestMovies?.Any() == true)
            {
                <ul class="list-group list-group-flush bg-dark border rounded">
                    @foreach (var movie in Model.NewestMovies)
                    {
                        <li class="list-group-item bg-dark text-light border-bottom">
                            <strong>@movie.Title</strong> (@movie.ReleaseYear)
                        </li>
                    }
                </ul>
            }
            else
            {
                <div class="text-muted">No recent movies found.</div>
            }
        </div>

        
        <div class="col-md-3">
            <h5 class="text-secondary"><i class="fa fa-hourglass-start me-2"></i> Oldest Titles</h5>
            @if (Model.OldestMovies?.Any() == true)
            {
                <ul class="list-group list-group-flush bg-dark border rounded">
                    @foreach (var movie in Model.OldestMovies)
                    {
                        <li class="list-group-item bg-dark text-light border-bottom">
                            <strong>@movie.Title</strong> (@movie.ReleaseYear)
                        </li>
                    }
                </ul>
            }
            else
            {
                <div class="text-muted">No archival titles available.</div>
            }
        </div>

       
        <div class="col-md-3">
            <h5 class="text-success"><i class="fa fa-coins me-2"></i> Cheapest Picks</h5>
            @if (Model.CheapestMovies?.Any() == true)
            {
                <ul class="list-group list-group-flush bg-dark border rounded">
                    @foreach (var movie in Model.CheapestMovies)
                    {
                        <li class="list-group-item bg-dark text-light border-bottom">
                            <strong>@movie.Title</strong> — @movie.Price.ToString("C")
                        </li>
                    }
                </ul>
            }
            else
            {
                <div class="text-muted">No pricing data available.</div>
            }
        </div>
    </div>

   
    <div class="mb-5">
        <h5 class="text-warning"><i class="fa fa-crown me-2"></i> Top Customer</h5>
        @if (Model.TopSpendingCustomer != null)
        {
            <div class="alert alert-warning d-flex justify-content-between align-items-center">
                <div>
                    <strong>@Model.TopSpendingCustomer.EmailAddress</strong> has spent the most on movie purchases.
                    <br />
                    <span class="text-muted">Thank you for being our most loyal movie enthusiast!</span>
                </div>
                <i class="fas fa-crown fa-2x text-warning"></i>
            </div>
        }
        else
        {
            <div class="alert alert-light text-dark">
                No top spender data available yet.
            </div>
        }
    </div>
</div>
