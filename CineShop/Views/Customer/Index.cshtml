@model CineShop.Models.Customer

@* @{
    ViewData["Title"] = "My Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container py-5">
    <h1 class="text-warning text-center fw-bold mb-4">
        <i class="fa fa-user me-2"></i> My Dashboard
    </h1>
    <p class="lead text-light text-center mb-5">
        Welcome back to CineShop! What would you like to do today?
    </p>

    <div class="d-flex flex-column align-items-center gap-3">
        <a asp-controller="Movies" asp-action="Index" class="btn btn-warning btn-lg fw-bold px-4 shadow-sm">
            <i class="fa-solid fa-film me-2"></i> Browse Movies
        </a>

      @*   <a asp-controller="Orders" asp-action="CustomerOrders" class="btn btn-warning btn-lg fw-bold px-4 shadow-sm">
            <i class="fa-solid fa-cart-shopping me-2"></i> View My Orders
        </a> *@

        @* <a asp-controller="Orders" asp-action="CustomerOrders" asp-route-email="@Model.EmailAddress"
           class="btn btn-warning btn-lg fw-bold px-4 shadow-sm">
            <i class="fa-solid fa-cart-shopping me-2"></i> View My Orders
        </a>



        <a asp-controller="" asp-action="" class="btn btn-warning btn-lg fw-bold px-4 shadow-sm">
            <i class="fa-solid fa-eye me-2"></i> View My Cart
        </a>
    </div>
</div>  *@



@{
    ViewData["Title"] = "Welcome to CineShop";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container py-5">
    <h1 class="text-warning text-center fw-bold mb-4">
        <i class="fa-solid fa-clapperboard me-2"></i> Welcome to CineShop
    </h1>

    <p class="lead text-light text-center mb-5">
        Your one-stop shop for movie magic. Choose what you'd like to do:
    </p>

    <div class="d-flex flex-column align-items-center gap-4">

        <!-- OBS!KOlla med FILIP -->
        <!-- View Orders by Email --> 
        <form id="orderForm" class="w-75" onsubmit="return redirectToCustomerOrders();">
            <div class="input-group">
                <input type="email" id="emailInput" class="form-control form-control-lg" placeholder="Enter your email to view orders" required />
                <button type="submit" class="btn btn-warning fw-bold px-4">
                    <i class="fa-solid fa-cart-shopping me-2"></i> View My Orders
                </button>
            </div>
        </form>

        <script>
            function redirectToCustomerOrders() {
                const email = document.getElementById("emailInput").value;
                if (!email) return false;

                const encodedEmail = encodeURIComponent(email);
                window.location.href = `/orders/customer/${encodedEmail}`;
                return false; // prevent default form submission
            }
        </script>

        <!-- View Cart -->
        <a asp-controller="Cart" asp-action="Index" class="btn btn-warning btn-lg fw-bold px-4 shadow-sm">
            <i class="fa-solid fa-eye me-2"></i> View My Cart
        </a>
        <!-- Browse Movies -->
        <a asp-controller="Movies" asp-action="Index" class="btn btn-warning btn-lg fw-bold px-4 shadow-sm">
            <i class="fa-solid fa-film me-2"></i> Browse Movies
        </a>

    </div>
</div>

